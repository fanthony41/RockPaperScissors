
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">

    <title>Rock Paper Scissors</title>

    <style>
      html {
        font-family: sans-serif;
      }
      body {
        width: 50%;
        max-width: 800px;
        min-width: 480px;
        margin: 0 auto;
      }
      .lastResult {
        color: white;
        padding: 3px;
      }
      
      .container{
        display:flex;
        justify-content: center;
        align-items: center;
      }

      .main{
        height: 400px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
      }

    </style>
  </head>

  <body>
    <h1>ROCK PAPER SCISSORS</h1>
    <div class="main">
      
      <div class = "container">
      <button class = "btn" id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
      </div>

    <div class="results">
      <p id="result">
      <p id="score">
    </div>
      
    </div>

    
      
</body>

<script>
  let myScore = 0;
  let comScore = 0; 
  let round = 0; 
  let computerChoice = getComputerChoice();
  let result;

  const rockButton = document.getElementById("rock");
  const paperButton = document.getElementById("paper");
  const scissorsButton = document.getElementById("scissors");
  result = rockButton.addEventListener("click",rockClicked);
  result = paperButton.addEventListener("click",paperClicked);
  result = scissorsButton.addEventListener("click",scissorsClicked);
  function display(){
    
  if (result == 'win')
    {
        win();
    }
    else if (result == 'lose')
    {
        lose();
    }
    else if (result == 'tie')
    {
        tie();
    }
    else if (result == 'invalid')
    {
        invalid();
    }

    if((myScore== 5) || (comScore == 5))  //if someone scores 5
    {
      document.getElementById("result").innerHTML="Congrats " + getWinner() + "you win";
      myScore = 0;
      comScore = 0;
      round = 0;
      
    }

  }
  function win(){
    myScore++;
    round++;
    document.getElementById("result").innerHTML="You win the round! Computer chose:  " + computerChoice ;
    console.log("win");
    displayScore();
    
  }

  function lose(){
    comScore++;
    round++;
    document.getElementById("result").innerHTML="You lost the round. Computer chose:  " + computerChoice ;
    console.log("lose");
    displayScore();
    
  }

  function tie(){
    document.getElementById("result").innerHTML = "TIE   Computer Chose: " + computerChoice;
    console.log("tie");
    displayScore();
  }

 function displayScore(){
  document.getElementById("score").innerHTML= "Round: " + round + ":  " + "You: " + myScore + "   "+ "Com: " + comScore;

 }
  




  function rockClicked() {
   computerChoice = getComputerChoice();
   console.log("rock clicked com:" + computerChoice);
   result = playround('rock', computerChoice);
   display();

  }

  function paperClicked() {
    computerChoice = getComputerChoice();
    console.log("paper clicked com:" + computerChoice);
    result = playround('paper', computerChoice);
    display();
  }

  function scissorsClicked() {
    computerChoice = getComputerChoice();
    console.log("scissors clicked com:" + computerChoice);
    result = playround('scissors', computerChoice);
    display();
  }


  function getComputerChoice()
  {
    const choices = ["rock", "paper", "scissors"];
    let randomNum = Math.floor(Math.random() * 3);  //Should be 1-3

    return choices[randomNum];
  }

  function getWinner(){
    if(myScore >= 5){
      return "User";
    }
    else return "COM";

  }

  function playround(playerChoice, computerChoice)
  {
    let result;
/*
    (playerChoice == computerChoice) ? console.log("Tie try again") :
    (playerChoice == 'rock' && computerChoice == 'paper') ?   :
    (playerChoice == 'rock' && computerChoice == 'scissors') ? win() :
    (playerChoice == 'paper' && computerChoice == 'scissors') ? lose() : 
    (playerChoice == 'paper' && computerChoice == 'rock') ? win() :
    (playerChoice == 'scissors' && computerChoice == 'rock') ? lose() :
    (playerChoice == 'scissors' && computerChoice == 'paper') ? win() :
    console.log("Enter a valid choice");
*/

    if (playerChoice == computerChoice) 
        return result = 'tie';
    else if (playerChoice == 'rock' && computerChoice == 'paper')
            return result = 'lose';
        else if (playerChoice == 'rock' && computerChoice == 'scissors')
            return result = 'win';
        else if (playerChoice == 'paper' && computerChoice == 'scissors')
            return result = 'lose';
        else if (playerChoice == 'paper' && computerChoice == 'rock')
            return result = 'win';
        else if (playerChoice == 'scissors' && computerChoice == 'rock')
            return result = 'lose';
        else if (playerChoice == 'scissors' && computerChoice == 'paper')
            return result = 'win';
        else
            return result = 'invalid';
  }

  
  /*let myScore = 0;
  let comScore = 0; 
  let round = 5; 
  for (let i = 0; i < round; i++)
  {
    //let inputChoice = prompt("Choose rock, paper or scissors");
    let computerChoice = getComputerChoice();
   // inputChoice = inputChoice.toLowerCase();
    let result = playround(inputChoice, computerChoice);
    if (result == 'win')
    {
        win();
    }
    else if (result == 'lose')
    {
        lose();
    }
    else if (result == 'tie')
    {
        tie();
    }
    else if (result == 'invalid')
    {
        invalid();
    }

    console.log("(" +inputChoice + " " + computerChoice + ")" + myScore + " : " + comScore)
  }

  function win()
  {
    console.log("You win!");
    myScore ++;
  }

  function lose()
  {
    console.log("You lose hah");
    comScore ++;
  }

  function invalid()
  {
    console.log("Not a valid choice");
    round++;
  }

  function tie()
  {
    console.log("TIE, try again");
    round ++;
  }*/
 
  
</script>
</html>