
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">

    <title>Rock Paper Scissors</title>

    <style>
      html {
        font-family: sans-serif;
      }
      body {
        width: 50%;
        max-width: 800px;
        min-width: 480px;
        margin: 0 auto;
      }
      .lastResult {
        color: white;
        padding: 3px;
      }
    </style>
  </head>

  <body>
    <div class="container"> 
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
    </div>
    <div class="results">
      <p id="result">
    </div>
      
</body>

<script>
  let myScore = 0;
  let comScore = 0; 
  let round = 0; 
  let computerChoice = getComputerChoice();
  let result;

  const rockButton = document.getElementById("rock");
  const paperButton = document.getElementById("paper");
  const scissorsButton = document.getElementById("scissors");
  result = rockButton.addEventListener("click",rockClicked);
  result = paperButton.addEventListener("click",paperClicked);
  result = scissorsButton.addEventListener("click",scissorsClicked);
  function display(){
  if (result == 'win')
    {
        win();
    }
    else if (result == 'lose')
    {
        lose();
    }
    else if (result == 'tie')
    {
        tie();
    }
    else if (result == 'invalid')
    {
        invalid();
    }
  }
  function win(){
    document.getElementById("result").innerHTML="YOU WIN the round  " + computerChoice ;
    console.log("win");
    
  }

  function lose(){
    document.getElementById("result").innerHTML="you lost the round  " + computerChoice ;
    console.log("lose");
    
  }

  function tie(){
    document.getElementById("result").innerHTML = "TIE" + computerChoice;
    console.log("tie");
  }


  




  function rockClicked() {
   computerChoice = getComputerChoice();
   console.log("rock clicked com:" + computerChoice);
   result = playround('rock', computerChoice);
   display();

  }

  function paperClicked() {
    computerChoice = getComputerChoice();
    console.log("paper clicked com:" + computerChoice);
    result = playround('paper', computerChoice);
    display();
  }

  function scissorsClicked() {
    computerChoice = getComputerChoice();
    console.log("scissors clicked com:" + computerChoice);
    result = playround('scissors', computerChoice);
    display();
  }


  function getComputerChoice()
  {
    const choices = ["rock", "paper", "scissors"];
    let randomNum = Math.floor(Math.random() * 3);  //Should be 1-3

    return choices[randomNum];
  }

  function playround(playerChoice, computerChoice)
  {
    let result;
/*
    (playerChoice == computerChoice) ? console.log("Tie try again") :
    (playerChoice == 'rock' && computerChoice == 'paper') ?   :
    (playerChoice == 'rock' && computerChoice == 'scissors') ? win() :
    (playerChoice == 'paper' && computerChoice == 'scissors') ? lose() : 
    (playerChoice == 'paper' && computerChoice == 'rock') ? win() :
    (playerChoice == 'scissors' && computerChoice == 'rock') ? lose() :
    (playerChoice == 'scissors' && computerChoice == 'paper') ? win() :
    console.log("Enter a valid choice");
*/

    if (playerChoice == computerChoice) 
        return result = 'tie';
    else if (playerChoice == 'rock' && computerChoice == 'paper')
            return result = 'lose';
        else if (playerChoice == 'rock' && computerChoice == 'scissors')
            return result = 'win';
        else if (playerChoice == 'paper' && computerChoice == 'scissors')
            return result = 'lose';
        else if (playerChoice == 'paper' && computerChoice == 'rock')
            return result = 'win';
        else if (playerChoice == 'scissors' && computerChoice == 'rock')
            return result = 'lose';
        else if (playerChoice == 'scissors' && computerChoice == 'paper')
            return result = 'win';
        else
            return result = 'invalid';
  }

  
  /*let myScore = 0;
  let comScore = 0; 
  let round = 5; 
  for (let i = 0; i < round; i++)
  {
    //let inputChoice = prompt("Choose rock, paper or scissors");
    let computerChoice = getComputerChoice();
   // inputChoice = inputChoice.toLowerCase();
    let result = playround(inputChoice, computerChoice);
    if (result == 'win')
    {
        win();
    }
    else if (result == 'lose')
    {
        lose();
    }
    else if (result == 'tie')
    {
        tie();
    }
    else if (result == 'invalid')
    {
        invalid();
    }

    console.log("(" +inputChoice + " " + computerChoice + ")" + myScore + " : " + comScore)
  }

  function win()
  {
    console.log("You win!");
    myScore ++;
  }

  function lose()
  {
    console.log("You lose hah");
    comScore ++;
  }

  function invalid()
  {
    console.log("Not a valid choice");
    round++;
  }

  function tie()
  {
    console.log("TIE, try again");
    round ++;
  }*/
 
  
</script>
</html>